<ui:composition template="/WEB-INF/template/MenuGenerico.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">

    <ui:define name="corpo">
        <p:messages autoUpdate="true" closable="true" style="width: 99%;"></p:messages>
        <p:panel header="Resultado da busca para: #{buscaBean.modelo}" class="conteudo-busca">
            <ui:repeat value="#{buscaBean.listarPorModelo()}" var="veiculo">
                <p:link class="link" outcome="TelaApresentacaoVeiculo.xhtml">
                    <h:form style="display: inline-block;">
                        <p:card
                            style="width: 25rem; margin-right: 30px; margin-top: 1em; margin-bottom: 1em; text-align: center;">
                            <f:facet name="title">
                                <p:outputLabel value="#{veiculo.modelo}"></p:outputLabel>
                            </f:facet>

                            <p:graphicImage width="300" height="200" library="imagens"
                                            name="#{veiculo.pathImagem}"></p:graphicImage>

                            <h4>Valor da diária R$: #{veiculo.valorDiaria}</h4>
                            <h4 style="display: inline;">Disponibilidade:</h4>
                            <h4 class="situacao" style="color: green; display: inline;">#{veiculo.situacao}</h4>
                        </p:card>
                        <script>
                            var allBox = document.getElementsByClassName("situacao")
                            var link = document.getElementsByClassName("link")
                            for (let index = 0; index & lt; allBox.length; index++) {
                                if (allBox[index].innerHTML == "Indisponível") {
                                    allBox[index].style.color = 'red'
                                    link[index].onclick = function () {
                                        return false;
                                    }

                                }
                            }
                        </script>
                    </h:form>
                    <f:param name="idVeiculo" value="#{veiculo.id}"></f:param>
                </p:link>
            </ui:repeat>
        </p:panel>
    </ui:define>
</ui:composition>
